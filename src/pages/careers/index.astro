---
// Fundations
import BaseLayout from "@/layouts/BaseLayout.astro";
import Text from "@/components/fundations/elements/Text.astro";
import Kicker from "@/components/fundations/elements/Kicker.astro";
import Wrapper from "@/components/fundations/containers/Wrapper.astro";
// Icons
import Check from "@/components/fundations/icons/Check.astro";
// Components
import CareerCard from "@/components/careers/CareerCard.astro";
// Content
import { getCollection } from "astro:content";
const allCareers = await getCollection("careers");
// Updated benefits for Transunifyy - Social Sector Focus
const benefits = [
  {
    title: "Purpose-Driven Work",
    description:
      "Every role connects to our mission of driving social change. Your work directly empowers NGOs, foundations, and communities across India through data, technology, and thematic expertise.",
  },
  {
    title: "Continuous Growth",
    description:
      "Learn from industry veterans with 20+ years of experience in finance, technology, and social development. Access mentorship, training, and opportunities to expand your expertise.",
  },
  {
    title: "Measurable Impact",
    description:
      "See tangible results of your work. Our projects touch thousands of lives through improved healthcare, education, livelihoods, and community development programs.",
  },
];
---

<BaseLayout navTransparent={true}>
  <!-- Hero Section -->
  <section class="bg-accent-800">
    <Wrapper
      variant="standard"
      class="py-12 pt-48 lg:border-x lg:border-white/10"
    >
      <div class="max-w-4xl text-balance lg:col-span-2">
        <Kicker class="text-base-300">Careers</Kicker>
        <Text
          tag="h1"
          variant="displayMD"
          class="font-medium tracking-tight mt-12 text-white"
        >
          Together for Social Good â€” Build Your Career with Purpose
        </Text>
        <Text tag="p" variant="textLG" class="text-base-400 mt-4">
          At Transunifyy, we're catalyzing meaningful, equitable, and sustainable social change. 
          Join a team where your work directly impacts communities and shapes the future of social development.
        </Text>
      </div>
    </Wrapper>
  </section>

  <!-- Benefits & Job Listings Section -->
  <section>
    <Wrapper variant="standard" class="py-24">
      <!-- Benefits Cards -->
      <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
        {
          benefits.map((benefit) => (
            <div class="p-8 rounded bg-base-50">
              <div class="flex items-center gap-2 text-accent-900">
                <div class="size-8 bg-accent-500 text-white flex items-center justify-center rounded-full">
                  <Check size="sm" />
                </div>
                <Text tag="h3" variant="textXL" class="font-medium">
                  {benefit.title}
                </Text>
              </div>
              <Text tag="p" variant="textBase" class="text-base-600 mt-4">
                {benefit.description}
              </Text>
            </div>
          ))
        }
      </div>

      <!-- Job Listings -->
      <div class="mt-12 lg:mt-24">
        <Text tag="h2" variant="textXL" class="font-medium text-accent-900 mb-8">
          Open Positions
        </Text>
        
        {allCareers.length > 0 ? (
          <div class="flex flex-col space-y-8">
            {allCareers.map((career) => <CareerCard career={career} />)}
          </div>
        ) : (
          <div class="text-center py-12 bg-base-50 rounded-lg">
            <Text tag="p" variant="textLG" class="text-base-600">
              No open positions at the moment. Check back soon or 
              <a href="/contact" class="text-accent-600 hover:underline">contact us</a> 
              to submit your profile.
            </Text>
          </div>
        )}
      </div>
    </Wrapper>
  </section>
</BaseLayout>